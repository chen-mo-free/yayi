{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\整合-html\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\整合-html\\src\\views\\user\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\整合-html\\src\\views\\user\\Login.vue","mtime":1604073870993},{"path":"C:\\Users\\lenovo\\Desktop\\整合-html\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\整合-html\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\整合-html\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\整合-html\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIGNvbnBhc3N3b3JkOiAiIiwNCiAgICAgIHVzZXJuYW1lU3RhdGU6ICIiLA0KICAgICAgcGFzc3dvcmRTdGF0ZTogIiIsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNoZWNrVXNlcm5hbWUoKSB7DQogICAgICBsZXQgdXNlcm5hbWVSZWdFeHAgPSAvXlswLTlhLXpBLVpfXXs2LDIwfSQvOw0KICAgICAgaWYgKHVzZXJuYW1lUmVnRXhwLnRlc3QodGhpcy51c2VybmFtZSkpIHsNCiAgICAgICAgdGhpcy51c2VybmFtZVN0YXRlID0gInN1Y2Nlc3MiOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudXNlcm5hbWVTdGF0ZSA9ICJlcnJvciI7DQogICAgICAgIHRoaXMuJHRvYXN0KHsNCiAgICAgICAgICBtZXNzYWdlOiAi55So5oi35ZCN5qC85byP5LiN56ymIiwNCiAgICAgICAgICBwb3NpdGlvbjogInRvcCIsDQogICAgICAgICAgZHVyYXRpb246ICIyMDAwIiwNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoZWNrUGFzc3dvcmQoKSB7DQogICAgICBsZXQgcGFzc3dvcmRSZWdFeHAgPSAvXlswLTlhLXpBLVpdezgsMjB9JC87DQogICAgICBpZiAocGFzc3dvcmRSZWdFeHAudGVzdCh0aGlzLnBhc3N3b3JkKSkgew0KICAgICAgICB0aGlzLnBhc3N3b3JkU3RhdGUgPSAic3VjY2VzcyI7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5wYXNzd29yZFN0YXRlID0gImVycm9yIjsNCiAgICAgICAgdGhpcy4kdG9hc3Qoew0KICAgICAgICAgIG1lc3NhZ2U6ICLlr4bnoIHmoLzlvI/kuI3nrKYiLA0KICAgICAgICAgIHBvc2l0aW9uOiAidG9wIiwNCiAgICAgICAgICBkdXJhdGlvbjogIjIwMDAiLA0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlKCkgew0KICAgICAgaWYgKHRoaXMuY2hlY2tVc2VybmFtZSgpICYmIHRoaXMuY2hlY2tQYXNzd29yZCgpKSB7DQogICAgICAgIGxldCBvYmogPSB7DQogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsDQogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsDQogICAgICAgIH07DQogICAgICAgIHRoaXMuYXhpb3MucG9zdCgiL2xvZ2luIiwgdGhpcy5xcy5zdHJpbmdpZnkob2JqKSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMSkgew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9yZWNvbW1lbmQiKTsNCiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaXNsb2dpbmVkIiwgIjEiKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmluZm8pDQogICAgICAgICAgICBsZXQgaT1KU09OLnN0cmluZ2lmeShyZXMuZGF0YS5pbmZvKQ0KICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyX2luZm8nLHJlcy5kYXRhLmluZm8pDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Vib3goIueZu+W9leaPkOekuiIsICLnlKjmiLflkI3miJblr4bnoIHplJnor68iKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"bag\">\r\n      <div id=\"imgBgc\">\r\n\r\n\r\n        <div class=\"login\">\r\n          <div>\r\n            <!-- 顶部导航开始 -->\r\n            <mt-header title=\"登录\" class=\"login_top\" fixed>\r\n              <router-link to=\"/recommend\" slot=\"left\">\r\n                <mt-button icon=\"back\"></mt-button>\r\n              </router-link>\r\n              <router-link to=\"/register\" slot=\"right\"> 注册 </router-link>\r\n            </mt-header>\r\n            <!-- 顶部导航结束 -->\r\n          </div>\r\n\r\n          <div class=\"login_text\">\r\n            <mt-field\r\n              type=\"text\"\r\n              label=\"用户名\"\r\n              placeholder=\"请输入用户名\"\r\n              :attr=\"{ maxlength: 15 }\"\r\n              v-model=\"username\"\r\n              @blur.native.capture=\"checkUsername\"\r\n              :state=\"usernameState\"\r\n            >\r\n            </mt-field>\r\n            <mt-field\r\n              type=\"password\"\r\n              label=\"密码\"\r\n              placeholder=\"请输入密码\"\r\n              :attr=\"{ maxlength: 20, autocomplete: 'off' }\"\r\n              v-model=\"password\"\r\n              @blur.native.capture=\"checkPassword\"\r\n              :state=\"passwordState\"\r\n            >\r\n            </mt-field>\r\n            <mt-button\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              @click=\"handle\"\r\n              class=\"loging\"\r\n              >快速登录</mt-button\r\n            >\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style>\r\n\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.login_text .mint-field .mint-cell-wrapper .mint-cell-value .mint-field-core{\r\n  background-color: transparent;\r\n}\r\na {\r\n  text-decoration: none;\r\n}\r\n.login{\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  padding-top: 40px;\r\n  height: 1000px;\r\n  background-color: rgba(0,0,0,.2);\r\n}\r\n.login_top {\r\n  background-color: transparent;\r\n  font-size: 16px;\r\n  font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\", sans-serif;\r\n}\r\n\r\n.mint-field {\r\n  background-color: transparent;\r\n  background-color: rgba(255, 255, 255,.5);\r\n  border-radius: 25px;\r\n  margin: 50px 30px;\r\n}\r\n.loging {\r\n  position: fixed;\r\n  border-radius: 20px;\r\n  width: 50%;\r\n  margin: 0 25%;\r\n  background-color: rgba(0,0,0,0.5);\r\n}\r\n@-webkit-keyframes scrollToUp {\r\n  0% {\r\n    background-position: 0 0;\r\n  }\r\n  100% {\r\n    background-position: 0 -1000px; // 向上滚动则就是图片的高度的负值，否则为图片的宽度，也可以百分比\r\n  }\r\n}\r\n@keyframes scrollToUp {\r\n  0% {\r\n    background-position: 0 0;\r\n  }\r\n  100% {\r\n    background-position: 0 -258px;\r\n  }\r\n}\r\n\r\n#imgBgc {\r\n  height: 1000px;\r\n  background-image: url(\"http://127.0.0.1:3000/img/_cjs/log.png\"); /* 什么图片都可以*/\r\n  background-attachment: fixed; /* 让背景图片和文本脱离*/\r\n  background-position: center center;\r\n  -webkit-animation: scrollToUp 5s linear infinite; /* 引入 scrollToUp动画  linear 表示匀速执行动画可避免卡顿*/\r\n  animation: scrollToUp 5s linear infinite;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      conpassword: \"\",\r\n      usernameState: \"\",\r\n      passwordState: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    checkUsername() {\r\n      let usernameRegExp = /^[0-9a-zA-Z_]{6,20}$/;\r\n      if (usernameRegExp.test(this.username)) {\r\n        this.usernameState = \"success\";\r\n        return true;\r\n      } else {\r\n        this.usernameState = \"error\";\r\n        this.$toast({\r\n          message: \"用户名格式不符\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return false;\r\n      }\r\n    },\r\n    checkPassword() {\r\n      let passwordRegExp = /^[0-9a-zA-Z]{8,20}$/;\r\n      if (passwordRegExp.test(this.password)) {\r\n        this.passwordState = \"success\";\r\n        return true;\r\n      } else {\r\n        this.passwordState = \"error\";\r\n        this.$toast({\r\n          message: \"密码格式不符\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return false;\r\n      }\r\n    },\r\n    handle() {\r\n      if (this.checkUsername() && this.checkPassword()) {\r\n        let obj = {\r\n          username: this.username,\r\n          password: this.password,\r\n        };\r\n        this.axios.post(\"/login\", this.qs.stringify(obj)).then((res) => {\r\n          if (res.data.code == 1) {\r\n            this.$router.push(\"/recommend\");\r\n            window.localStorage.setItem(\"islogined\", \"1\");\r\n            console.log(res.data.info)\r\n            let i=JSON.stringify(res.data.info)\r\n            window.localStorage.setItem('user_info',res.data.info)\r\n          } else {\r\n            this.$messagebox(\"登录提示\", \"用户名或密码错误\");\r\n          }\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"]}]}