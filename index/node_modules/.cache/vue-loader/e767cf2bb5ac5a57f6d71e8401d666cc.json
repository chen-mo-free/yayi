{"remainingRequest":"C:\\Users\\lenovo\\Desktop\\shz\\index\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lenovo\\Desktop\\shz\\index\\src\\views\\user\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lenovo\\Desktop\\shz\\index\\src\\views\\user\\Register.vue","mtime":1604115253587},{"path":"C:\\Users\\lenovo\\Desktop\\shz\\index\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\shz\\index\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\shz\\index\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lenovo\\Desktop\\shz\\index\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIGNvbnBhc3N3b3JkOiAiIiwNCiAgICAgIHVzZXJuYW1lU3RhdGU6ICIiLA0KICAgICAgcGFzc3dvcmRTdGF0ZTogIiIsDQogICAgICBjb25wYXNzd29yZFN0YXRlOiAiIiwNCiAgICAgIGRpc2FibGVkOiBmYWxzZSwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkge30sDQogIG1ldGhvZHM6IHsNCiAgICBjaGVja1VzZXJuYW1lKCkgew0KICAgICAgbGV0IHVzZXJuYW1lUmVnRXhwID0gL15bMC05YS16QS1aX117NiwyMH0kLzsNCiAgICAgIGlmICh1c2VybmFtZVJlZ0V4cC50ZXN0KHRoaXMudXNlcm5hbWUpKSB7DQogICAgICAgIHRoaXMudXNlcm5hbWVTdGF0ZSA9ICJzdWNjZXNzIjsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnVzZXJuYW1lU3RhdGUgPSAiZXJyb3IiOw0KICAgICAgICB0aGlzLiR0b2FzdCh7DQogICAgICAgICAgbWVzc2FnZTogIueUqOaIt+WQjeagvOW8j+S4jeespiIsDQogICAgICAgICAgcG9zaXRpb246ICJ0b3AiLA0KICAgICAgICAgIGR1cmF0aW9uOiAiMjAwMCIsDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfSwNCiAgICBjaGVja1Bhc3N3b3JkKCkgew0KICAgICAgbGV0IHBhc3N3b3JkUmVnRXhwID0gL15bMC05YS16QS1aXXs4LDIwfSQvOw0KICAgICAgaWYgKHBhc3N3b3JkUmVnRXhwLnRlc3QodGhpcy5wYXNzd29yZCkpIHsNCiAgICAgICAgdGhpcy5wYXNzd29yZFN0YXRlID0gInN1Y2Nlc3MiOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucGFzc3dvcmRTdGF0ZSA9ICJlcnJvciI7DQogICAgICAgIHRoaXMuJHRvYXN0KHsNCiAgICAgICAgICBtZXNzYWdlOiAi5a+G56CB5qC85byP5LiN56ymIiwNCiAgICAgICAgICBwb3NpdGlvbjogInRvcCIsDQogICAgICAgICAgZHVyYXRpb246ICIyMDAwIiwNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoZWNrQ29ucGFzc3dvcmQoKSB7DQogICAgICBpZiAodGhpcy5jb25wYXNzd29yZCA9PSAiIikgew0KICAgICAgICB0aGlzLmNvbnBhc3N3b3JkU3RhdGUgPSAiZXJyb3IiOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICBpZiAodGhpcy5wYXNzd29yZCAhPSB0aGlzLmNvbnBhc3N3b3JkKSB7DQogICAgICAgIHRoaXMuY29ucGFzc3dvcmRTdGF0ZSA9ICJlcnJvciI7DQogICAgICAgIHRoaXMuJHRvYXN0KHsNCiAgICAgICAgICBtZXNzYWdlOiAi5Lik5qyh5a+G56CB5LiN5LiA6Ie0IiwNCiAgICAgICAgICBwb3NpdGlvbjogInRvcCIsDQogICAgICAgICAgZHVyYXRpb246ICIyMDAwIiwNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuY29ucGFzc3dvcmRTdGF0ZSA9ICJzdWNjZXNzIjsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGUoKSB7DQogICAgICBsZXQgaSA9IDA7DQogICAgICBpZiAoDQogICAgICAgIHRoaXMuY2hlY2tVc2VybmFtZSgpICYmDQogICAgICAgIHRoaXMuY2hlY2tQYXNzd29yZCgpICYmDQogICAgICAgIHRoaXMuY2hlY2tDb25wYXNzd29yZCgpDQogICAgICApIHsNCiAgICAgICAgdGhpcy5heGlvcw0KICAgICAgICAgIC5wb3N0KA0KICAgICAgICAgICAgIi9yZWdpc3RlciIsDQogICAgICAgICAgICAidXNlcm5hbWU9IiArIHRoaXMudXNlcm5hbWUgKyAiJnBhc3N3b3JkPSIgKyB0aGlzLnBhc3N3b3JkDQogICAgICAgICAgKQ0KICAgICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDEpIHsNCiAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpc2xvZ2luZWQiLCAiMSIpOw0KICAgICAgICAgICAgICBpKys7DQogICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndW5hbWUnLHRoaXMudXNlcm5hbWUpDQogICAgICAgICAgICAgIGlmIChpICE9IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zDQogICAgICAgICAgICAgICAgICAuZ2V0KCIvc2VsZWN0IiwgeyBwYXJhbXM6IHsgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUgfSB9KQ0KICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgbGV0IGogPSByZXMuZGF0YS5pbmZvOw0KICAgICAgICAgICAgICAgICAgICAgIGo9SlNPTi5zdHJpbmdpZnkoaikNCiAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhqKTsNCiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJfaW5mbyIsIGopOw0KICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9yZWNvbW1lbmQnKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZWJveCgi5rOo5YaM5o+Q56S6IiwgIueUqOaIt+WQjeW3suWtmOWcqCIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"bag\">\r\n      <div id=\"imgBgc\">\r\n        <div class=\"register\">\r\n          <div>\r\n            <!-- 顶部导航开始 -->\r\n            <mt-header title=\"注册\" class=\"register_top\">\r\n              <router-link to=\"/recommend\" slot=\"left\">\r\n                <mt-button icon=\"back\"></mt-button>\r\n              </router-link>\r\n              <router-link to=\"login\" slot=\"right\"> 登录 </router-link>\r\n            </mt-header>\r\n            <!-- 顶部导航结束 -->\r\n            <div class=\"register_log\"></div>\r\n          </div>\r\n          <div class=\"register_text\">\r\n            <mt-field\r\n              type=\"text\"\r\n              label=\"用户名\"\r\n              placeholder=\"请输入用户名\"\r\n              :attr=\"{ maxlength: 15 }\"\r\n              v-model=\"username\"\r\n              @blur.native.capture=\"checkUsername\"\r\n              :state=\"usernameState\"\r\n            >\r\n            </mt-field>\r\n            <mt-field\r\n              type=\"password\"\r\n              label=\"密码\"\r\n              placeholder=\"请输入密码\"\r\n              :attr=\"{ maxlength: 20, autocomplete: 'off' }\"\r\n              v-model=\"password\"\r\n              @blur.native.capture=\"checkPassword\"\r\n              :state=\"passwordState\"\r\n            >\r\n            </mt-field>\r\n            <mt-field\r\n              type=\"password\"\r\n              label=\"确认密码\"\r\n              placeholder=\"请再次输入密码\"\r\n              :attr=\"{ maxlength: 20, autocomplete: 'off' }\"\r\n              v-model=\"conpassword\"\r\n              @blur.native.capture=\"checkConpassword\"\r\n              :state=\"conpasswordState\"\r\n            >\r\n            </mt-field>\r\n            <mt-button\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              @click=\"handle\"\r\n              class=\"registerg\"\r\n              :disabled=\"disabled == false\"\r\n              >免费注册</mt-button\r\n            >\r\n            <div>\r\n              <input\r\n                class=\"checkbox\"\r\n                type=\"checkbox\"\r\n                v-model=\"disabled\"\r\n              />是否同意\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style>\r\n.register_text\r\n  .mint-field\r\n  .mint-cell-wrapper\r\n  .mint-cell-value\r\n  .mint-field-core {\r\n  background-color: transparent;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\na {\r\n  text-decoration: none;\r\n}\r\n.register {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  height: 1000px;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n}\r\n.register_top {\r\n  background-color: transparent;\r\n  font-size: 16px;\r\n  font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\", sans-serif;\r\n}\r\n.mint-field {\r\n  background-color: transparent;\r\n  width: 80%;\r\n  margin: 40px auto;\r\n  background-color: rgba(255, 255, 255, 0.6);\r\n  border-radius: 25px;\r\n}\r\n.registerg {\r\n  width: 50%;\r\n  margin: 0 25%;\r\n  border-radius: 20px;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n.checkbox {\r\n  margin: 10px 0 0 5px;\r\n}\r\n.register_text > div:last-child {\r\n  color: #fff;\r\n}\r\n@-webkit-keyframes scrollToUp {\r\n  0% {\r\n    background-position: 0 0;\r\n  }\r\n  100% {\r\n    background-position: 0 -1000px; // 向上滚动则就是图片的高度的负值，否则为图片的宽度，也可以百分比\r\n  }\r\n}\r\n@keyframes scrollToUp {\r\n  0% {\r\n    background-position: 0 0;\r\n  }\r\n  100% {\r\n    background-position: 0 -258px;\r\n  }\r\n}\r\n\r\n#imgBgc {\r\n  height: 1000px;\r\n  background-image: url(\"http://127.0.0.1:3000/img/_cjs/log.png\"); /* 什么图片都可以*/\r\n  background-attachment: fixed; /* 让背景图片和文本脱离*/\r\n  background-position: center center;\r\n  -webkit-animation: scrollToUp 5s linear infinite; /* 引入 scrollToUp动画  linear 表示匀速执行动画可避免卡顿*/\r\n  animation: scrollToUp 5s linear infinite;\r\n}\r\n</style>\r\n\r\n\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      conpassword: \"\",\r\n      usernameState: \"\",\r\n      passwordState: \"\",\r\n      conpasswordState: \"\",\r\n      disabled: false,\r\n    };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    checkUsername() {\r\n      let usernameRegExp = /^[0-9a-zA-Z_]{6,20}$/;\r\n      if (usernameRegExp.test(this.username)) {\r\n        this.usernameState = \"success\";\r\n        return true;\r\n      } else {\r\n        this.usernameState = \"error\";\r\n        this.$toast({\r\n          message: \"用户名格式不符\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return false;\r\n      }\r\n    },\r\n    checkPassword() {\r\n      let passwordRegExp = /^[0-9a-zA-Z]{8,20}$/;\r\n      if (passwordRegExp.test(this.password)) {\r\n        this.passwordState = \"success\";\r\n        return true;\r\n      } else {\r\n        this.passwordState = \"error\";\r\n        this.$toast({\r\n          message: \"密码格式不符\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return false;\r\n      }\r\n    },\r\n    checkConpassword() {\r\n      if (this.conpassword == \"\") {\r\n        this.conpasswordState = \"error\";\r\n        return false;\r\n      }\r\n      if (this.password != this.conpassword) {\r\n        this.conpasswordState = \"error\";\r\n        this.$toast({\r\n          message: \"两次密码不一致\",\r\n          position: \"top\",\r\n          duration: \"2000\",\r\n        });\r\n        return false;\r\n      } else {\r\n        this.conpasswordState = \"success\";\r\n        return true;\r\n      }\r\n    },\r\n    handle() {\r\n      let i = 0;\r\n      if (\r\n        this.checkUsername() &&\r\n        this.checkPassword() &&\r\n        this.checkConpassword()\r\n      ) {\r\n        this.axios\r\n          .post(\r\n            \"/register\",\r\n            \"username=\" + this.username + \"&password=\" + this.password\r\n          )\r\n          .then((res) => {\r\n            if (res.data.code == 1) {\r\n              window.localStorage.setItem(\"islogined\", \"1\");\r\n              i++;\r\n              window.localStorage.setItem('uname',this.username)\r\n              if (i != 0) {\r\n                this.axios\r\n                  .get(\"/select\", { params: { username: this.username } })\r\n                  .then((res) => {\r\n                    if (res.data.code == 1) {\r\n                      let j = res.data.info;\r\n                      j=JSON.stringify(j)\r\n                      // console.log(j);\r\n                      window.localStorage.setItem(\"user_info\", j);\r\n                  this.$router.push('/recommend')\r\n                    }\r\n                  });\r\n              }\r\n            } else {\r\n              this.$messagebox(\"注册提示\", \"用户名已存在\");\r\n            }\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"]}]}